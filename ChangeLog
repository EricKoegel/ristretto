2009-05-02  Stephan Arts <stephan@xfce.org>

	* src/image_cache.c: Remove images which return size=0 from the cache,
	  it might still be loading, in which case it should stop immediately and
	  be dropped from the cache
	* src/image.c
	  src/image.h
	  src/image_cache.c: calculate cache-size in uint instead of uint64

2009-05-02  Stephan Arts <stephan@xfce.org>

	* src/main_window.c
	  src/main_window_ui.xml: Implement save-as function (Bug #4647)
	* src/navigator.c: Fix iter_find_image function
	* src/image_cache.h
	  src/image_cache.c: Return TRUE when the cache had to drop images to
	  fit the new one.
	* src/main.c: Fix error when trying to open nonexistent file from the
	  CLI

2009-05-02  Stephan Arts <stephan@xfce.org>

	* src/image,c
	  src/image.h
	  src/image_cache.c: Implement image-cache size calculation (Bug #4064)

2009-05-02  Stephan Arts <stephan@xfce.org>

	* src/main_window.c: Add jpeg filter to the open-files dialog

2009-05-01  Stephan Arts <stephan@xfce.org>

	* src/main_window.c: Make sure the fullscreen-toolbar gets shown in
	fullscreen mode when ristretto left fullscreen with sticky set.

2009-04-30  Stephan Arts <stephan@xfce.org>

	* src/picture_viewer.c: Implement a hack to check if the pixbuf has
	been rotated.

2009-04-30  Stephan Arts <stephan@xfce.org>

	* src/main_window.c
	  src/main_window_ui.xml: Add Sticky button to the fullscreen-toolbar.

2009-04-30  Stephan Arts <stephan@xfce.org>

	* src/main_window.c
	  src/main_window_ui.xml: Set is_important hint on 'leave-fullscreen' 
	  toolitem.

2009-04-30  Stephan Arts <stephan@xfce.org>

	* src/main_window.c
	  src/main_window_ui.xml: Add 'fullscreen-toolbar' with controls when in
	  fullscreen-mode.  

2009-04-30  Stephan Arts <stephan@xfce.org>

	* src/main_window.c
	  src/picture_viewer.c
	  src/picture_viewer.h: Let the pictureviewer figure out the fullscreen-
	  state of it's parent-window by itself

2009-04-28  Stephan Arts <stephan@xfce.org>

	* src/image.c
	  src/picture_viewer.c: Emit 'prepared' signal when the size-prepared signal
	  is emitted, instead of waiting for the area-prepared signal. When the
	  image is rendered at a different scale then 'maximum', the 
	  'area-prepared', 'area-updated' and 'closed' signals are all emitted at 
	  once. Then the thumbnail is not displayed when the image is not ready yet.
	* src/picture_viewer.c: Do not repaint the image when the image is
	  'prepared' but there is no thumbnail available. This will prevent the
	  image from flickering.
	* src/image_cache.c: Implement 'enable'/'disable' of image-cache
	* src/main_window_ui.xml
	  src/main_window.c: Remove properties dialog menu item
	* src/picture_viewer.c: Add a 'fullscreen' state, setting a different
	  background-color if it is in fullscreen.
